<!doctype html>
<!--[if lt IE 7]>
  <html lang="en-us" class="no-js ie6 oldie">
<![endif]-->
<!--[if IE 7]>    
  <html lang="en-us" class="no-js ie7 oldie">
<![endif]-->
<!--[if IE 8]>    
  <html lang="en-us" class="no-js ie8 oldie">
<![endif]-->
<!--[if IE 9]>
  <html lang="en-us" class="ie9">
<![endif]-->
<!--[if gt IE 9]><!-->
<html lang="en-us">
<!--<![endif]-->

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/TweenMax.min.js"></script>
    <!--
	<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/plugins/CSSPlugin.min.js"></script>
-->
    <!--
	<script src="BezierPlugin.min.js"></script>
-->
    <style type="text/css">
    /* #### Generated By: http://www.cufonfonts.com #### */
    
    @font-face {
        font-family: 'Myriad Pro Regular';
        font-style: normal;
        font-weight: normal;
        src: local('Myriad Pro Regular'), url('font/MYRIADPRO-REGULAR.woff') format('woff');
    }
    
    body {
        font-family: 'Myriad Pro Regular', sans-serif;
        font-style: normal;
        font-weight: normal;
        color: #333;
    }
    
    .banner {
        width: 1280px;
        height: 331px;
        background: #f4f4f4;
        background: url(svg/background.jpg);
        overflow: hidden;
        position: absolute;
    }
    
    h1 {
        position: absolute;
        font-weight: 500;
        top: 50px;
        left: 100px;
        font-size: 42px;
    }
    
    p {
        position: absolute;
        top: 120px;
        font-size: 21px;
        left: 105px;
    }
    
    .particle {
        width: 50px;
        height: 50px;
        top: 0;
        left: 0;
        background: #888;
        position: absolute;
    }
    
    .particle-1 {
        width: 170px;
        height: 170px;
        background: url(svg/rectangle02_cleaned.svg);
    }
    
    .particle-2 {
        width: 170px;
        height: 170px;
        background: url(svg/rectangle03_cleaned.svg);
    }
    
    .particle-3 {
        width: 170px;
        height: 170px;
        background: url(svg/rectangle04.svg);
    }
    
    .particle-4 {
        width: 170px;
        height: 170px;
        background: url(svg/rectangle05_cleaned.svg);
    }
    
    .particle-5 {
        width: 170px;
        height: 170px;
        background: url(svg/rectangle06_cleaned.svg);
    }
    
    .particle-6 {
        width: 170px;
        height: 170px;
        background: url(svg/rectangle07_cleaned.svg);
    }
    </style>
    <script>
    var animation = {

        probability: 0.4,

        speed: 10,

        heightRandomisation: 200,

        // Get a random number between min and max
        getRandom: function(min, max) {
            return Math.random() * (max - min) + min;
        },

        // Get the path for a particle to follow
        // An array with a set of x,y coordinates for the bezier curve
        // @return array
        getRandomisedPath: function() {


            // Chose which path to travel
            var path = Math.round(this.getRandom(1, 2));
            var startY = 180;

            if (path === 1) {
                var finalY = this.getRandom(400, 500);

                var interY = startY - ((finalY + startY) * 0.1) + 100;

                return [{
                    left: 50,
                    top: interY
                }, {
                    left: -900,
                    top: finalY
                }];
            } else {
                var finalY = this.getRandom(-600, -50);

                var interY = startY + ((finalY - startY) * 0.1) + 40;

                return [{
                    left: 650,
                    top: interY
                }, {
                    left: 1250,
                    top: finalY
                }];
            }



            /*
               return [
               {
                       left: 500,
                       top: 180
                   },
                   //  {
                   //     left: 600,
                   //     top: this.getRandom(40, 60)
                   // },
                   {
                       left: 1400,
                       top: this.getRandom(-500, 100)
                   }
               ];
               */
        },

        // Get a randomised scale factor - scales the final size of the particle
        // @return float
        getRandomisedScale: function() {
            // return 1.4 - (Math.random() / 3);
            return this.getRandom(0.2, 1.6);
        },

        // Create a new particle, giving it one of the different shapes
        // @return jQuery object
        getParticle: function() {
            var $particle = $('<div class="particle"></div>');
            $particle.addClass('particle-' + Math.round(this.getRandom(1, 6)));
            return $particle;
        },

        // Emit a single particle
        emitOne: function() {
            var $particle = this.getParticle();
            $('.banner').append($particle);
            var path = this.getRandomisedPath();


            TweenMax.set($particle, {
                top: 200,
                left: 300
            });
            // Animate particle
            TweenMax.to($particle, this.speed, {
                bezier: {
                    values: path
                        // autoRotate:true,
                },
                // ease: 'Quad.easeInOut',
                ease: 'Power0.easeNone',
                onComplete: function() {
                    $particle.remove();
                }
            });

            var finalScale = this.getRandomisedScale();
            TweenMax.set($particle, {
                scale: 0
            });
            TweenMax.to($particle, this.speed, {
                scale: finalScale,
                // ease: 'Quad.easeIn'
                ease: 'Power3.easeOut'
                    // ease: 'linear'
            });

        },

        // Emitter randomly adds a particle
        emitter: function() {
            if (Math.random() < this.probability) {
                this.emitOne();
            }
        }
    };

    $(function() {

        var speed = 25;

        var runLoop = function() {
            animation.emitter();
            window.setTimeout(runLoop, speed);

        };

        runLoop();

        animation.emitOne();



    });
    </script>
</head>

<body>
    <div class="banner">
        <h1>Quantitative investing</h1>
        <p>A mathematical, data driven approach
            <br>to your investments</p>
    </div>
</body>

</html>
